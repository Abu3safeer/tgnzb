{% extends 'base.html' %}
{% block body %}
    <div class="container pt-4">
        <form action="{{ url_for('import_tg') }}" method="POST" enctype="multipart/form-data">
            <h1 class="h1 mb-5">Select json file exported from telegram chat using tdl</h1>
            <div>
                Use tdl tool to get channel messages as json using this command:
                 <div class="alert alert-warning my-3" role="alert">
                         <code>tdl chat export -n quickstart -c 0000000 --with-content</code>
                 </div>
                <span>More info: <a href="https://docs.iyear.me/tdl/guide/tools/export-messages/" target="_blank">
                    https://docs.iyear.me/tdl/guide/tools/export-messages/
                </a></span>
            </div>

            <div class="row my-3">
                <label for="json" class="form-label">Select the tdl-export.json</label>
                <div class="col-sm-10">
                    <input class="form-control form-control-lg" id="json" name="json" type="file" multiple required>
                </div>
            </div>
            <div class="row mb-3">
                <div class="col-sm-12">
                    <button id="save" class="btn btn-lg btn-success" type="submit">Import</button>
                </div>
            </div>
        </form>
    </div>
    {% for type, message in messages %}
        <div class="alert alert-{{ type }}" role="alert">
            {{ message }}
        </div>
    {% endfor %}
{% endblock %}
